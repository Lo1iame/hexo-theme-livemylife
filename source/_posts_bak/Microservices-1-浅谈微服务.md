---
title: '[Microservices] 1 浅谈微服务'
catalog: true
date: 2019-07-01 18:22:56
subtitle: Microservices are a modern approach to software whereby application code is delivered in small, manageable pieces, independent of others...
header-img: /img/microservices/microservices_bg.png
tags:
- Microservices
---

## 微服务架构的概念
![microservices.png](microservices.png)
微服务架构是一种架构概念，旨在通过将功能分解到各个离散的服务中以实现对解决方案的解耦。它的主要作用是将功能分解到离散的各个服务当中，从而降低系统的耦合性，并提供更加灵活的服务支持。

### 概念
把一个大型的单个应用程序和服务拆分为数个甚至数十个的支持微服务，它可扩展单个组件而不是整个的应用程序堆栈，从而满足服务等级协议。

### 定义
围绕业务领域组件来创建应用，这些应用可独立地进行开发、管理和迭代。在分散的组件中使用云架构和平台式部署、管理和服务功能，使产品交付变得更加简单。

### 本质
用一些功能比较明确、业务比较精练的服务去解决更大、更实际的问题。

PS： 微服务这个概念是 2012 年出现的，作为加快 Web 和移动应用程序开发进程的一种方法，2014 年开始受到各方的关注，同年为微服务的元年。

## 传统架构与微服务架构的区别

### 系统架构需要遵循的三个标准
- 提高敏捷性：及时响应业务需求，促进企业发展
- 提升用户体验：提升用户体验，减少用户流失
- 降低成本：降低增加产品、客户或业务方案的成本

### 传统的开发模式
先来看看传统的 WEB 开发方式，通过对比比较容易理解什么是 **微服务架构**。和 **微服务** 相对应的，这种方式一般被称为 **单体式开发**（Monolithic）。

既所有的功能打包在一个 WAR 包里，基本没有外部依赖（除了容器），部署在一个 JavaEE 容器（Tomcat，JBoss，WebLogic）里，包含了 DO/DAO，Service，UI 等所有逻辑。
![1](1.png)

#### 优点
- 开发简单，集中式管理
- 基本不会重复开发
- 功能都在本地，没有分布式的管理和调用消耗

#### 缺点
- 效率低：开发都在同一个项目改代码，相互等待，冲突不断
- 维护难：代码功功能耦合在一起，新人不知道何从下手
- 不灵活：构建时间长，任何小修改都要重构整个项目，耗时
- 稳定性差：一个微小的问题，都可能导致整个应用挂掉
- 扩展性不够：无法满足高并发下的业务需求

### 微服务架构
#### 目的
有效的拆分应用，实现敏捷开发和部署
![2](2.png)

#### 开发和交付中的伸缩立方
![3](3.png)
- **X轴**： 运行多个负载均衡器之后的运行实例
- **Y轴**： 将应用进一步分解为微服务（分库） 
- **Z轴**： 大数据量时，将服务分区（分表）